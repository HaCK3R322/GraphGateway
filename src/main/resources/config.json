{
  "rootPath": "/Users/ivanandrosovv/diplom/src/diplom/src/main/resources/",
  "routing": {
    "path": "/routing.kts"
  },
  "graphs": [
    {
      "name": "person_create",
      "input": "proto/person_create_graph/input.proto",
      "nodes": [
        {
          "name": "SaveName",
          "proto": "proto/person_create_graph/saveName.proto",
          "script":  {
            "path": "scripts/saveName.kts",
            "timeout": 1000
          },
          "critical": true,
          "dependencies": [
            "HttpRequest"
          ],
          "client": {
            "discovery": "http://localhost:8080/test/nameservice",
            "timeout": 1000
          }
        },
        {
          "name": "SaveAge",
          "proto": "proto/person_create_graph/saveAge.proto",
          "script":  {
            "path": "scripts/saveAge.kts",
            "timeout": 1000
          },
          "critical": true,
          "dependencies": [
            "HttpRequest"
          ],
          "client": {
            "discovery": "http://localhost:8080/test/ageservice",
            "timeout": 1000
          }
        },
        {
          "name": "PersonCreate",
          "proto": "proto/common/person.proto",
          "script":  {
            "path": "scripts/createPerson.kts",
            "timeout": 1000
          },
          "critical": true,
          "dependencies": [
            "HttpRequest", "SaveName", "SaveAge"
          ],
          "client": {
            "discovery": "http://localhost:8080/test/personservice",
            "timeout": 1000
          }
        }
      ]
    }
  ]
}